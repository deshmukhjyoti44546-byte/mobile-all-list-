<!DOCTYPE html>
<html>
<head>
  <title>Mobile Tracker</title>
  <style>
    body { font-family: Arial; background:#f2f6ff; padding:20px; }
    h2 { color:#333; }
    button, input, select { padding:6px; margin:5px; }
    table { border-collapse: collapse; width:100%; margin-top:15px; }
    th, td { border:1px solid #aaa; padding:8px; text-align:center; }
    .warn { color:red; font-weight:bold; }
    .ok { color:green; font-weight:bold; }
    .card {
      background:#fff;
      padding:12px;
      margin:8px 0;
      border-radius:8px;
      box-shadow:0 2px 5px rgba(0,0,0,0.1);
      cursor:pointer;
    }
    .hidden { display:none; }
  </style>
</head>

<body>

<h2>üì± Mobile Tracker</h2>

<!-- LOGIN -->
<div id="loginBox">
  <input type="password" id="pass" placeholder="Enter Password">
  <button onclick="doLogin()">Login</button>
</div>

<!-- HOME (BRANDS) -->
<div id="homeBox" class="hidden">
  <h3>Select Brand</h3>
  <div id="brandList"></div>
  <button onclick="openAdd()">+ Add New Mobile</button>
</div>

<!-- BRAND PAGE -->
<div id="brandBox" class="hidden">
  <button onclick="goHome()">‚Üê Back</button>
  <h3 id="brandTitle"></h3>

  <table>
    <thead>
      <tr>
        <th>Mobile</th>
        <th>Days</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="mobileList"></tbody>
  </table>
</div>

<!-- ADD MOBILE -->
<div id="addBox" class="hidden">
  <button onclick="goHome()">‚Üê Back</button>
  <h3>Add New Mobile</h3>

  <select id="brand">
    <option>Samsung</option>
    <option>Apple</option>
    <option>Vivo</option>
    <option>Oppo</option>
    <option>Redmi</option>
    <option>Realme</option>
    <option>OnePlus</option>
    <option>Motorola</option>
    <option>Infinix</option>
    <option>Tecno</option>
    <option>Nothing</option>
  </select>

  <input id="name" placeholder="Mobile Name">
  <input type="date" id="date">
  <button onclick="addMobile()">Add</button>
</div>

<script>
const PASSWORD = "1234";
let data = JSON.parse(localStorage.getItem("data")) || [];
let currentBrand = "";

const brands = [
  "Samsung","Apple","Vivo","Oppo","Redmi",
  "Realme","OnePlus","Motorola","Infinix","Tecno","Nothing"
];

function doLogin(){
  if(pass.value === PASSWORD){
    loginBox.style.display="none";
    homeBox.classList.remove("hidden");
    renderBrands();
  } else {
    alert("Wrong Password");
  }
}

/* HOME */
function renderBrands(){
  brandList.innerHTML="";
  brands.forEach(b=>{
    brandList.innerHTML += `
      <div class="card" onclick="openBrand('${b}')">${b}</div>`;
  });
}

/* BRAND PAGE */
function openBrand(b){
  currentBrand = b;
  homeBox.classList.add("hidden");
  brandBox.classList.remove("hidden");
  brandTitle.innerText = b;
  renderMobiles();
}

function renderMobiles(){
  mobileList.innerHTML="";
  data
    .filter(x=>x.brand===currentBrand)
    .forEach((x,i)=>{
      mobileList.innerHTML += `
        <tr>
          <td>${x.name}</td>
          <td>${x.days}</td>
          <td class="${x.days>=365?'warn':'ok'}">${x.status}</td>
          <td><button onclick="deleteMobile(${i})">Delete</button></td>
        </tr>`;
    });
}

/* ADD MOBILE */
function openAdd(){
  homeBox.classList.add("hidden");
  addBox.classList.remove("hidden");
}

function addMobile(){
  if(!name.value || !date.value){
    alert("Name aur Date daalo");
    return;
  }

  let d = new Date(date.value);
  let today = new Date();
  let days = Math.floor((today-d)/(1000*60*60*24));
  let status = days>=365 ? "‚ö†Ô∏è 1 year old" : "‚úÖ OK";

  data.push({
    brand: brand.value,
    name: name.value,
    days: days,
    status: status
  });

  localStorage.setItem("data",JSON.stringify(data));

  name.value="";
  date.value="";
  goHome();
}

/* DELETE */
function deleteMobile(i){
  if(confirm("Delete karna hai?")){
    data.splice(i,1);
    localStorage.setItem("data",JSON.stringify(data));
    renderMobiles();
  }
}

/* NAV */
function goHome(){
  brandBox.classList.add("hidden");
  addBox.classList.add("hidden");
  homeBox.classList.remove("hidden");
  renderBrands();
}
</script>

</body>
</html>
