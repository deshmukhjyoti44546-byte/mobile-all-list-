<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mobile Tracker</title>

<style>
body{
  font-family: Arial;
  background:#f4f7ff;
  margin:0;
  padding:0;
}
header{
  background:#222;
  color:#fff;
  padding:15px;
  text-align:center;
}
.container{ padding:15px; }

.card{
  background:#fff;
  padding:15px;
  margin:10px 0;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,0.1);
  cursor:pointer;
}

.brand{ font-size:18px; font-weight:bold; }

.green{ color:#2e7d32; }
.yellow{ color:#f9a825; }
.red{ color:#c62828; }

button{
  padding:8px 12px;
  border:none;
  border-radius:6px;
  background:#1976d2;
  color:#fff;
  cursor:pointer;
}
button.danger{ background:#c62828; }

input,select{
  padding:7px;
  width:100%;
  margin:6px 0;
}
.hidden{ display:none; }
</style>
</head>

<body>

<header>üì± Mobile Tracker</header>

<div class="container">

<!-- HOME -->
<div id="home">
  <h3>Select Brand</h3>
  <div id="brandList"></div>
  <button onclick="openAdd()">+ Add Mobile</button>
</div>

<!-- BRAND PAGE -->
<div id="brandPage" class="hidden">
  <button onclick="goHome()">‚Üê Back</button>
  <h3 id="brandTitle"></h3>
  <div id="modelList"></div>
</div>

<!-- DETAIL PAGE -->
<div id="detailPage" class="hidden">
  <button onclick="backToBrand()">‚Üê Back</button>
  <h3 id="detailTitle"></h3>
  <p id="detailInfo"></p>
  <button class="danger" onclick="deleteMobile()">Delete</button>
</div>

<!-- ADD MOBILE -->
<div id="addPage" class="hidden">
  <button onclick="goHome()">‚Üê Back</button>
  <h3>Add New Mobile</h3>

  <select id="addBrand">
    <option>Samsung</option>
    <option>Apple</option>
    <option>Vivo</option>
    <option>Oppo</option>
    <option>Redmi</option>
    <option>Realme</option>
    <option>OnePlus</option>
    <option>Motorola</option>
    <option>Infinix</option>
    <option>Tecno</option>
    <option>Nothing</option>
  </select>

  <input id="addModel" placeholder="Mobile Model Name">
  <input type="date" id="addDate">
  <button onclick="saveMobile()">Save</button>
</div>

</div>

<script>
let mobiles = JSON.parse(localStorage.getItem("mobiles")) || [];
let currentBrand = "";
let currentIndex = -1;

const brands = ["Samsung","Apple","Vivo","Oppo","Redmi","Realme","OnePlus","Motorola","Infinix","Tecno","Nothing"];

function daysBetween(date){
  let d = new Date(date);
  let t = new Date();
  return Math.floor((t-d)/(1000*60*60*24));
}

function status(days){
  if(days>=365) return {text:"OBSOLETE",cls:"red"};
  if(days>=300) return {text:"NEAR OBSOLETE",cls:"yellow"};
  return {text:"UP-TO-DATE",cls:"green"};
}

/* HOME */
function renderBrands(){
  brandList.innerHTML="";
  brands.forEach(b=>{
    brandList.innerHTML+=`
      <div class="card brand" onclick="openBrand('${b}')">${b}</div>`;
  });
}
renderBrands();

/* BRAND PAGE */
function openBrand(b){
  currentBrand=b;
  home.classList.add("hidden");
  brandPage.classList.remove("hidden");
  brandTitle.innerText=b;
  modelList.innerHTML="";

  mobiles.filter(m=>m.brand===b).forEach((m,i)=>{
    let d=daysBetween(m.date);
    let s=status(d);
    modelList.innerHTML+=`
      <div class="card" onclick="openDetail(${i})">
        <b>${m.model}</b><br>
        <span class="${s.cls}">${s.text}</span> ‚Ä¢ ${d} days
      </div>`;
  });
}

/* DETAIL */
function openDetail(i){
  currentIndex=i;
  brandPage.classList.add("hidden");
  detailPage.classList.remove("hidden");

  let m=mobiles[i];
  let d=daysBetween(m.date);
  let s=status(d);

  detailTitle.innerText=m.model;
  detailInfo.innerHTML=`
    Brand: ${m.brand}<br>
    Purchase Date: ${m.date}<br>
    Days Used: ${d}<br>
    Status: <span class="${s.cls}">${s.text}</span>
  `;
}

/* DELETE */
function deleteMobile(){
  if(confirm("Delete this mobile?")){
    mobiles.splice(currentIndex,1);
    localStorage.setItem("mobiles",JSON.stringify(mobiles));
    detailPage.classList.add("hidden");
    goHome();
  }
}

/* ADD */
function openAdd(){
  home.classList.add("hidden");
  addPage.classList.remove("hidden");
}
function saveMobile(){
  let b=addBrand.value;
  let m=addModel.value;
  let d=addDate.value;
  if(!m||!d){ alert("Fill all fields"); return; }

  mobiles.push({brand:b,model:m,date:d});
  localStorage.setItem("mobiles",JSON.stringify(mobiles));
  goHome();
}

/* NAV */
function goHome(){
  document.querySelectorAll(".hidden").forEach(e=>e.classList.add("hidden"));
  home.classList.remove("hidden");
}
function backToBrand(){
  detailPage.classList.add("hidden");
  openBrand(currentBrand);
}
</script>

</body>
</html>
